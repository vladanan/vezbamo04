<!doctype html>
<html lang="sr">

<head>
  <title><%= title %></title>

  <!-- bs required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

  <script type="importmap">
    {
      "imports": {
        "vue": "https://unpkg.com/vue@3/dist/vue.esm-browser.js"
      }
    }
  </script>
</head>

<body>

  <%- include("../partials/header-bs.ejs") %>

  <div class="px-2">
  
    <div>
      <h1>Node.JS, Express, Vue, Bootstrap</h1>
      <p><mark>Benvenuto nella pagina per l'apprendimento e il test!</mark></p>
    </div>

    <div>
      <p>Vue dugme za exponencijalni brojaƒç ;)</p>

      <div id="app">
        <button type="button" :class="klasa_dugme" @click="povecaj">Broj je: {{ brojac }}</button>
        <div class="progress">
          <div class="progress-bar" role="progressbar" :style="tbar1" aria-valuenow="90" aria-valuemin="0" aria-valuemax="50">.</div>
          <div class="progress-bar progress-bar-striped progress-bar-animated bg-success" role="progressbar" :style="tbar2" aria-valuenow="40" aria-valuemin="0" aria-valuemax="50"></div>
        </div>
        <br>
        Html5: <progress min="0" max="100" :value="100-bar"></progress>
      </div>
      <br>
    </div>
    
    <div>
      <a href="/sajt/probe?fajl=sistem.ejs"> <button type="button" class="btn btn-warning">Data di sistema!</button></a>
    </div>

  </div>

  <script type="module">
    import { createApp } from 'vue'
    var barc = 1;
    
    createApp({
      
      data() {
        return {
          brojac: 0,
          bar: 0,
          tbar1: '',
          tbar2: '',
          klasa_dugme: 'btn btn-success'
        }
      },
      methods: {
        povecaj() {
          if (this.brojac == 0) {
            this.brojac = this.brojac + 2
          } else {
            this.brojac = this.brojac * this.brojac
          }

          this.bar = Math.round(barc * 9.0909)
          
          //this.tbar = 'style="width: ' + this.bar + '%"'
          this.tbar1 = 'width: ' + this.bar + '%'
          this.tbar2 = 'width: ' + (100 - this.bar) + '%'
          
          if (this.bar == 100) {this.klasa_dugme = 'btn btn-danger'}
          
          barc++
        }
      }
    }).mount('#app')

  </script>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
</body>
</html>